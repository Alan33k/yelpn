local webhookUrl = "https://webhook.lewisakura.moe/api/webhooks/1350613336445685780/uJzXNW_B-MsZ5ZKzFk-12NqR4T11_ouFqta2pS7X5dyto6e6zGL8rfseLOybOYRMgLa5"

local function sendWebhook(eventType, playerName, playerID)
    local http = game:GetService("HttpService")
    local currentTime = os.date("%Y-%m-%d %H:%M:%S") -- Pobiera aktualnƒÖ datƒô i godzinƒô

    local data = {
        ["content"] = "**Nowe zdarzenie w skrypcie!**",
        ["embeds"] = { {
            ["title"] = "üîî Wykryto aktywno≈õƒá",
            ["color"] = 16711680, -- Czerwony
            ["fields"] = {
                { ["name"] = "üìå Typ zdarzenia", ["value"] = eventType, ["inline"] = false },
                { ["name"] = "üë§ Gracz", ["value"] = playerName .. " (" .. playerID .. ")", ["inline"] = false },
                { ["name"] = "‚è∞ Data i godzina", ["value"] = currentTime, ["inline"] = false }
            }
        } }
    }

    local jsonData = http:JSONEncode(data)

    local success, response = pcall(function()
        return http_request({
            Url = webhookUrl,
            Method = "POST",
            Headers = { ["Content-Type"] = "application/json" },
            Body = jsonData
        })
    end)

    if not success then
        warn("B≈ÇƒÖd wysy≈Çania webhooka: " .. tostring(response))
    end
end

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local pastebinURL = "https://pastebin.com/raw/QUhTRYYg"
local pastebinURLID = "https://pastebin.com/raw/JnPetSMG"

local HttpService = game:GetService("HttpService")
local validKeys = {}
local validIDs = {}

local function getCurrentTimestamp()
    return os.time()
end

local function isKeyValid(expiryTimestamp)
    return getCurrentTimestamp() < expiryTimestamp
end

local function decodeBase64(data)
    local b = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
    data = string.gsub(data, '[^'..b..'=]', '')  
    return (data:gsub('.', function(x)
        if x == '=' then return '' end
        local r, f = '', (b:find(x) - 1)
        for i = 6, 1, -1 do r = r .. (f % 2 ^ i - f % 2 ^ (i - 1) > 0 and '1' or '0') end
        return r
    end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x)
        if #x ~= 8 then return '' end
        local c = 0
        for i = 1, 8 do c = c + (x:sub(i, i) == '1' and 2 ^ (8 - i) or 0) end
        return string.char(c)
    end))
end

local successKeys, responseKeys = pcall(function()
    return game:HttpGet(pastebinURL)
end)

if successKeys and responseKeys then
    for keyData in responseKeys:gmatch("[^\r\n]+") do
        local encodedKey, timestamp = keyData:match("([^|]+)|(%d+)")
        if encodedKey and timestamp then
            local key = decodeBase64(encodedKey)
            local expiryTimestamp = tonumber(timestamp)
            if isKeyValid(expiryTimestamp) then
                table.insert(validKeys, key)
            end
        end
    end
else
    Rayfield:Notify({
        Title = "B≈ÇƒÖd!",
        Content = "Nie uda≈Ço siƒô pobraƒá kluczy! Sprawd≈∫ Pastebin.",
        Duration = 5
    })
end

local successIDs, responseIDs = pcall(function()
    return game:HttpGet(pastebinURLID)
end)

if successIDs and responseIDs then
    for encodedID in responseIDs:gmatch("[^\r\n]+") do  
        local decodedID = decodeBase64(encodedID)  
        table.insert(validIDs, tonumber(decodedID))  
    end  
else
    Rayfield:Notify({
        Title = "B≈ÇƒÖd!",
        Content = "Nie uda≈Ço siƒô pobraƒá listy ID! Sprawd≈∫ Pastebin.",
        Duration = 5
    })
end

local localPlayer = game:GetService("Players").LocalPlayer
local playerName = localPlayer.Name
local playerID = localPlayer.UserId

sendWebhook("‚úÖ Skrypt zosta≈Ç uruchomiony", playerName, playerID)

local accessGranted = false  

for _, id in pairs(validIDs) do
    if id == playerID then  
        accessGranted = true  
        break  
    end  
end  

if not accessGranted then
    localPlayer:Kick("‚õî Nie masz dostƒôpu do tego skryptu!")
end

local function checkKey(userKey)
    for _, validKey in ipairs(validKeys) do
        if userKey == validKey then
            -- Wy≈õlij webhook, gdy klucz jest poprawny
            sendWebhook("‚úÖ Prawid≈Çowy klucz", playerName, playerID)
            return true
        end
    end
    -- Wy≈õlij webhook, gdy klucz jest niepoprawny
    sendWebhook("‚õî Nieprawid≈Çowy klucz", playerName, playerID)
    return false
end


local Window = Rayfield:CreateWindow({
   Name = "üëÄ SLPN SCRIPT",
   LoadingTitle = "U≈ºywaƒá rozwa≈ºnie.",
   LoadingSubtitle = "by polishjack",
   KeySystem = true,
   KeySettings = {
      Title = "SLPN Script | Key",
      Subtitle = "",
      Note = "Pisz pv po klucz, NotTugal",
      SaveKey = false,
      GrabKeyFromSite = false,
      Key = validKeys
   }
})

local MainTab = Window:CreateTab("üìÉ Glowne", nil) -- G≈Ç√≥wna zak≈Çadka
local AntyCheatSection = MainTab:CreateSection("‚úÖ AntyCheat")

local Button = MainTab:CreateButton({
   Name = "Delete SLPN Anti Cheat",
   Callback = function()
    local pathsToDelete = {
    "game:GetService('Players').LocalPlayer.PlayerScripts.AntiCheat",
    "game:GetService('ReplicatedStorage').SharedEvents.Soccer.AntiCheat",
    "game:GetService('StarterPlayer').StarterPlayerScripts.AntiCheat"
}

for _, path in ipairs(pathsToDelete) do
    local success, errorMessage = pcall(function()
        local object = loadstring("return " .. path)()
        if object then
            object:Destroy()
            Rayfield:Notify({
               Title = "Delete SLPN Anti Cheat",
               Content = "Usunieto: " .. path,
               Duration = 6.5,
               Image = nil,
            })
        else
            Rayfield:Notify({
               Title = "Delete SLPN Anti Cheat",
               Content = "Nie znaleziono obiektu: " .. path,
               Duration = 6.5,
               Image = nil,
            })
        end
    end)
    if not success then
            Rayfield:Notify({
               Title = "Delete SLPN Anti Cheat",
               Content = "B≈ÇƒÖd podczas usuwania: " .. errorMessage,
               Duration = 6.5,
               Image = nil,
            })
    end
end

   end,
})

local HitboxSection = MainTab:CreateSection("‚öΩ Konfiguracja Hitboxa")

-- Domy≈õlne warto≈õci
local plr = ""
local enlargedSize = Vector3.new(15, 15, 15)

-- Pole do wpisywania nazwy gracza
local PlayerInput = MainTab:CreateInput({
    Name = "Nazwa gracza (plr)",
    PlaceholderText = "Podaj nazwƒô gracza...",
    RemoveTextAfterFocusLost = false,
    Callback = function(value)
        plr = value
        print("Ustawiono gracza:", plr)
    end
})

-- Pole do wpisywania rozmiaru powiƒôkszenia
local SizeInput = MainTab:CreateInput({
    Name = "Wielko≈õƒá hitboxa",
    PlaceholderText = "np. 15,15,15",
    RemoveTextAfterFocusLost = false,
    Callback = function(value)
        local x, y, z = value:match("(%d+),(%d+),(%d+)")
        if x and y and z then
            enlargedSize = Vector3.new(tonumber(x), tonumber(y), tonumber(z))
            print("Ustawiono rozmiar:", enlargedSize)
        else
            Rayfield:Notify({
                Title = "B≈ÇƒÖd!",
                Content = "Podaj warto≈õci w formacie: liczba,liczba,liczba (np. 15,15,15)",
                Duration = 5
            })
        end
    end
})

-- Przycisk do uruchomienia skryptu powiƒôkszania pi≈Çki
local StartButton = MainTab:CreateButton({
    Name = "‚úÖ Uruchom skrypt Hitbox",
    Callback = function()
        if plr == "" then
            Rayfield:Notify({
                Title = "B≈ÇƒÖd!",
                Content = "Najpierw ustaw nazwƒô gracza!",
                Duration = 5
            })
            return
        end

        Rayfield:Notify({
            Title = "‚úÖ Sukces!",
            Content = "Skrypt hitbox zosta≈Ç uruchomiony!",
            Duration = 5
        })

        -- Skrypt powiƒôkszania pi≈Çki
        local ballsFolder = workspace.EngineWorkspace.Balls  -- Folder Balls
        local plrl = game.Players.LocalPlayer.Name           -- Lokalny gracz
        local charactersFolder = workspace.EngineWorkspace.Characters:WaitForChild(plrl)  -- Folder gracza
        local ballName = "Ball"                              -- Nazwa pi≈Çki
        local originalSize = Vector3.new(1.40912, 1.41264, 1.39893)  -- Oryginalny rozmiar

        local function checkBall()
            local ballInBalls = ballsFolder:FindFirstChild(ballName)
            if ballInBalls then
                ballInBalls.Size = originalSize
                print("Pi≈Çka w folderze Balls: ustawiono oryginalny rozmiar")
            end

            local ballInCharacters = charactersFolder:FindFirstChild(ballName)
            if ballInCharacters then
                ballInCharacters.Size = originalSize
                print("Pi≈Çka w folderze gracza: ustawiono oryginalny rozmiar")
            end

            local ballInWorkspace = workspace:FindFirstChild(ballName)
            if ballInWorkspace and ballInWorkspace.Parent ~= ballsFolder and ballInWorkspace.Parent ~= charactersFolder then
                ballInWorkspace.Size = originalSize
                print("Pi≈Çka w Workspace: ustawiono oryginalny rozmiar")
            end
        end

        -- Podpiƒôcie funkcji do zdarze≈Ñ zmian w folderach
        ballsFolder.ChildAdded:Connect(checkBall)
        ballsFolder.ChildRemoved:Connect(checkBall)
        charactersFolder.ChildAdded:Connect(checkBall)
        charactersFolder.ChildRemoved:Connect(checkBall)
        checkBall()

        -- Nas≈Çuchiwanie naci≈õniƒôcia klawisza ALT, by powiƒôkszyƒá pi≈Çkƒô
        local UserInputService = game:GetService("UserInputService")
        UserInputService.InputBegan:Connect(function(input, gameProcessed)
            if gameProcessed then return end
            if input.KeyCode == Enum.KeyCode.LeftAlt or input.KeyCode == Enum.KeyCode.RightAlt then
                local ballInBalls = ballsFolder:FindFirstChild(ballName)
                if ballInBalls then
                    ballInBalls.Size = enlargedSize
                    print("Naci≈õniƒôto ALT: Pi≈Çka zosta≈Ça powiƒôkszona")
                end
            end
        end)
    end
})

local OtherTab = Window:CreateTab("üìã Inne", nil) -- G≈Ç√≥wna zak≈Çadka
local OtherScriptsSection = OtherTab:CreateSection("‚ùì Inne skrypty")

local Button = OtherTab:CreateButton({
   Name = "üòà Wywal ludzi w powietrze",
   Callback = function()
        Rayfield:Notify({
            Title = "Skrypt zosta≈Ç uruchomiony!",
            Content = "Proszƒô o cierpliwo≈õƒá, skrypt mo≈ºe zadzia≈Çaƒá do 15 sekund, nie klikaƒá kilka razy!",
            Duration = 8,
            Image = nil,
        })
   loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Fling-All-Script-20486"))()
   end,
})

local Button = OtherTab:CreateButton({
   Name = "‚öíÔ∏è Infinite Yield (Local Admin)",
   Callback = function()
        Rayfield:Notify({
            Title = "Skrypt zosta≈Ç uruchomiony!",
            Content = "Proszƒô o cierpliwo≈õƒá, skrypt mo≈ºe zadzia≈Çaƒá do 10 sekund, nie klikaƒá kilka razy!",
            Duration = 8,
            Image = nil,
        })
   loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
   end,
})
